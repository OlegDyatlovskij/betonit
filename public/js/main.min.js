"use strict";function formApi(t){t.querySelectorAll(".input-validation--valid").length>=3&&t.querySelector('[type="checkbox"]').checked&&($(document).on("click",'[type="submit"]',(function(t){var e=$(this).closest("form"),n=e.attr("action"),o=document.querySelector(".popup-write-us__status");return o.setAttribute("style","display:none"),$.ajax({url:n,method:"post",data:new FormData(e.get(0)),contentType:!1,cache:!1,processData:!1,dataType:"json",success:function(t){console.log("ok"),console.log(t),t.hasError||(e.find("input, textarea").val(""),$(".ctrFiles").html("")),"success"===t.status?(o.removeAttribute("style"),o.classList.add("popup-write-us__status--success"),o.classList.remove("popup-write-us__status--error"),setTimeout((function(){location.reload()}),2e3),o.textContent="Заявка успешно отправлена"):(o.textContent="Ошибка отправки",o.removeAttribute("style"),o.classList.remove("popup-write-us__status--success"),o.classList.add("popup-write-us__status--error"))},error:function(t,e,n){console.log(t),console.log(e),console.log(n),o.textContent="Ошибка отправки",o.removeAttribute("style"),o.classList.remove("popup-write-us__status--success"),o.classList.add("popup-write-us__status--error")}}),!1})),$('[type="submit"]').click())}function initFancyBox(){jQuery(".fancybox").fancybox({padding:0,helpers:{overlay:{locked:!1}}}),$.extend(!0,$.fancybox.defaults,{animationEffect:"zoom-in-out",transitionEffect:"fade",transitionDuration:1e3,loop:!0,wheel:"auto",protect:!1,keyboard:!0,arrows:!0,infobar:!0,toolbar:!0,buttons:["zoom","share","slideShow","fullScreen","download","thumbs","close"],lang:"ru",i18n:{ru:{CLOSE:"Закрыть",NEXT:"Вперед",PREV:"Назад",ERROR:"Запрашиваемый контент не может быть загружен. <br/> Пожалуйста, попробуйте позже.",PLAY_START:"Начать демонстрацию",PLAY_STOP:"Приостановить демонстрацию",FULL_SCREEN:"На полный экран",THUMBS:"Миниатюры",DOWNLOAD:"Скачать",SHARE:"Поделиться",ZOOM:"Увеличить"}}}),$("[data-fancybox-window]").fancybox({closeExisting:!1,infobar:!1,touch:!1,toolbar:!1})}function initFormValidation(){function t(t){console.log("Отправка формы!!")}$(".js-form-validation").each((function(e,n){!function(e){$(e).validate({errorClass:"input-validation input-validation--invalid",validClass:"input-validation input-validation--valid",errorElement:"span",errorPlacement:function(t,e){"checkbox"===e.attr("name")?t.insertAfter(e.parent()):t.insertAfter(e),console.log(e),console.log(t),e.closest(".input, .checkbox, .radio, .select").find(".input-validation__message").html(t)},normalizer:function(t){return $.trim(t)},rules:{checkbox:{required:!0},name:{required:!0,minlength:2,normalizer:function(t){return t.replace()}},email:{email:!0},tel:{normalizer:function(t){return t.replace(/\D+/g,"")},required:!0,minlength:11},timee:{required:!0,minlength:5,normalizer:function(t){return t.replace()}},message:{minlength:3},password1:{required:!0,minlength:6},password2:{required:!0,minlength:6}},messages:{checkbox:{required:"Укажите согласие c правилами пользования"},timee:{minlength:"Укажите полное время"},message:{minlength:"Введите не менее 3 символов"}},submitHandler:t})}(n)}))}function initMenu(){try{var t=function(){o.appendChild(i)},e=function(){o.classList.remove("open"),n.classList.remove("active"),r.classList.remove("noscroll")},n=document.querySelector("#hamb"),o=document.querySelector(".Nav__mobile"),r=document.body,i=document.querySelector("#menu").cloneNode(1);n.addEventListener("click",(function(e){e.preventDefault(),o.classList.toggle("open"),n.classList.toggle("active"),r.classList.toggle("noscroll"),t()})),Array.from(i.children).forEach((function(t){t.addEventListener("click",e)}));var a=document.querySelector(".header").offsetHeight;document.querySelector(".ident-menu-js").style.paddingTop=a+"px",$(document).ready((function(){return $('a[href^="#"]').bind("click",(function(t){if(!t.target.closest("a").hasAttribute("data-fancybox-window")&&!t.target.closest("a").hasAttribute("data-fancybox")){var e=$(this);window.matchMedia("(max-width: 928px)").matches?$("html, body").stop().animate({scrollTop:$(e.attr("href")).offset().top},800):$("html, body").stop().animate({scrollTop:$(e.attr("href")).offset().top-a},800),t.preventDefault(),document.body.classList.remove("body-scroll-hidden")}})),!1})),$("header").removeClass("default"),$(window).scroll((function(){$(this).scrollTop()>40?$("header").addClass("default").fadeIn("fast"):$("header").removeClass("default").fadeIn("fast")}))}catch(t){console.log("Ошибка heightHeaderMobile")}}function _createForOfIteratorHelper(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function initSmoothScrolling(){try{var t,e=_createForOfIteratorHelper(document.querySelectorAll('a[href*="#"]'));try{var n=function(){var e=t.value;e.addEventListener("click",(function(t){var n=e.getAttribute("href").substr(1);if(n.length>=2){t.preventDefault();try{document.getElementById(n).scrollIntoView({behavior:"smooth",block:"start"})}catch(t){console.log("Ошибка initSmoothScrolling (scrollIntoView)")}}}))};for(e.s();!(t=e.n()).done;)n()}catch(t){e.e(t)}finally{e.f()}}catch(t){console.log("Ошибка initSmoothScrolling")}}function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function initSwiper(){new Swiper(".partners__swiper-container",_defineProperty({slidesPerView:2,spaceBetween:20,grabCursor:!0,pagination:{el:".swiper-pagination"},loop:!0},"pagination",{el:".swiper-pagination"}))}function initTabs(){try{var t,e=document.querySelectorAll(".Tabs__block"),n=document.querySelectorAll(".Tabs__item");e.forEach((function(t){n.forEach((function(e){t.classList.contains("Tabs__block--not-active")&&(t.style.display="none"),t.classList.remove("Tabs__block--active")}))})),e.forEach((function(o){n.forEach((function(r){r.addEventListener("click",(function(){t=r.getAttribute("data-identification-tab"),r.getAttribute("data-index-tab")===o.getAttribute("data-index-tab")&&(e.forEach((function(e){n.forEach((function(n){t===e.getAttribute("data-identification-tab")&&(e.classList.remove("Tabs__block--active"),e.classList.add("Tabs__block--not-active")),t===n.getAttribute("data-identification-tab")&&n.classList.remove("Tabs__item--active")}))})),r.classList.add("Tabs__item--active"),o.classList.remove("Tabs__block--not-active"),o.classList.add("Tabs__block--active"),e.forEach((function(e){t=r.getAttribute("data-identification-tab"),n.forEach((function(n){t===e.getAttribute("data-identification-tab")&&(e.classList.contains("Tabs__block--not-active")?setTimeout((function(){e.style.display="none"}),400):setTimeout((function(){e.style.display="block"}),400))}))})))}))}))}))}catch(t){console.log("Ошибка initTabs")}}function inputMaskCustom(){null!=document.querySelectorAll('input[type="tel"]')&&[].forEach.call(document.querySelectorAll('input[type="tel"]'),(function(t){var e;function n(t){t.keyCode&&(e=t.keyCode),this.selectionStart<3&&t.preventDefault();var n="+7 (___) ___-__-__",o=0,r=n.replace(/\D/g,""),i=this.value.replace(/\D/g,""),a=n.replace(/[_\d]/g,(function(t){return o<i.length?i.charAt(o++)||r.charAt(o):t}));-1!=(o=a.indexOf("_"))&&(o<5&&(o=3),a=a.slice(0,o));var c=n.substr(0,this.value.length).replace(/_+/g,(function(t){return"\\d{1,"+t.length+"}"})).replace(/[+()]/g,"\\$&");(!(c=new RegExp("^"+c+"$")).test(this.value)||this.value.length<5||e>47&&e<58)&&(this.value=a),"blur"==t.type&&this.value.length<5&&(this.value="")}t.addEventListener("input",n,!1),t.addEventListener("focus",n,!1),t.addEventListener("blur",n,!1),t.addEventListener("keydown",n,!1)}))}function lazyLoadImg(){console.log("lazyLoadImg"),$(".lazy").Lazy()}function scrollActive(){var t=document.querySelectorAll(".item-nav__link"),e=document.querySelectorAll("[data-anchor]");window.onscroll=function(){var n=window.scrollY;t.forEach((function(o,r){e[r].offsetTop-(document.querySelector(".header").clientHeight+20)<=n&&(t.forEach((function(t){return t.classList.remove("item-nav__link--active")})),o.classList.add("item-nav__link--active"),r>=2?document.querySelector(".up").classList.add("up--active"):document.querySelector(".up").classList.remove("up--active"))}))}}document.addEventListener("DOMContentLoaded",(function(){initFancyBox(),initFormValidation(),initMenu(),initSmoothScrolling(),initSwiper(),initTabs(),inputMaskCustom(),scrollActive()}));
//# sourceMappingURL=main.min.js.map
